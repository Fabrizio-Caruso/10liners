0dIp(99):dIc$(99):dId$(99):z=65:fOi=.to5:p(i+z)=.:nE:t=0:q=0:g=32:o(1)=15:goS7
1o(.)=0:h=70:?"{black}":goS8:input"{down*3}{purple}>";a$:a$=a$+"  ":f=aS(mI(a$,1,1)):s=aS(mI(a$,2,1))
2on-((f=g)or(f<z)or(f>h)or(f=s))gO1:on-((s<>g)aN(s<z)or(s>h))gO1:on-(p(f)<>t)gO1
3on-((s<>g)aN(p(s)<>t))gO1:p(f)=(p(f)+1)aN1:p(s)=(p(s)+1)aN1:t=(t+1)aN1:fOw=0to1
4m(w)=.:c(w)=.:fOi=0to2:m(w)=m(w)+((p(i+z)+w)aN1):c(w)=c(w)+((p(i+68)+w)aN1)
5nE:nE:q=q+1:on-((m(0)<>c(0))or(c(0)<3))gO6:goS8:?"{down*2}{blue}done in"q"steps!":goS7:rU
6on-(((m(0)=0)or(m(0)>=c(0)))aN((m(1)=0)or(m(1)>=c(1))))gO1:goS8:?"{red}end":goS7:rU
7fOi=.to2:fOj=.tog:c$(i+z)="{black}":d$(i+z)="{216}":c$(i+68)="{red}":d$(i+68)="{113}":nE:nE:reT
8?"{clear}{black}{113}{red}{216} {blue}mini-brainstorm {red}{216}{black}{113}{down*2}":fOi=.to5:?sPo(p(i+z)));c$(i+z);d$(i+z);cH(i+z)
9pO38474+22*i,3:pO7754+22*i,102:nE:?sPo(t));"{green}{223}{210*2}{169}":v=36879:pOv,25:pO19,1:reT