0pO56,29:pO52,29:x=rN(-rnd(0)):fOp=0to47:rEb:pO7568+p,b:nE:v=36878:pO646,1:pOv-9,255
1dEfnrf(x)=int(rN(1)*x)
2ll=7:k=1:n=v+1:zz=15:a=418:d=8164:pOn,8:ifj>rtHr=j:?"{clear}{reverse on}record!":fOi=0to1999:nE
3rr=.4:o=7745:m=215:p0=7955:p=p0:z=3:b=218:w=164:u=22:kk=1:aa=230:goS40:ii=160:h=52
4t=30720:x=1:i=32:b1=.94:b2=.975:bp=100:?"{clear}":goS32:fOq=.toh:pOo+1+fnrf(a),m:nE:zz=.
5j=.:ww=150:bb=500:wr=1.45:g0=7680:g1=7701:gt=38421:cc=216:hh=211:xx=214:t1=21:t3=23
6rem 
7on-(a<70)gO70:rem other stuff
8ifpE(p)=wtHpOv,15:j=j+4:pOv,0:pOg0,b:pOg0+t,2:fOq=.tou:nE:iff>.tHf=f-1
9goS60:ifpE(p)=cctHj=j+14:goS31:pOp,h:goS32
10z=z-zz:ifpE(p)=hhtHj=j+19:goS30:pOp,b:pOp-t3,ii:pOp-t1,ii:pOp+t1,ii:pOp+t3,ii:goS31
11pOgt,2-5*zz:pOg1,z+176:?"{home}{yellow}{reverse on}${white}"9-f"{white}"j" {cyan}hi{white}"r
12l=jjaNll:c=2:ifrN(1)>rrtHq=p-4+2*fnrf(5)+44*(fnrf(3)-1):pOq,m:pOq+t,1
13s=.:gEa$:pOp,h:pOp+t,1:ifa$<>""tHs=aS(a$):e=saN1:c=s-75+e:pOv,15:pOv,.
14y=.:pOn,8:ifsG(c)=ctHy=1:h=s-23:pOp,m:p=p+c*(t1*e+1):j=j+1:jj=jj+1:ifz>9tHz=9
15pOp+t,2+kc:pOg+t,7:pOg,w:g=g0:ifj>=k*bptHk=k+1:pOn,k:f=.:kc=kc+1:ifkc>5tHkc=.
16zz=.:on-(z=.)gO33:if-ytHifl=lltHg=o+1+fnrf(a):pOg+t,4:pOg,b
17if-ytHq=rN(1):ifq>b1tHgg=o+1+fnrf(a):q=x>1aNq>b2:pOgg+t,4+q*2:pOgg,cc+q*5
18ifs=itHiff<9tHpOn,10:pOp,b:goS36:goS34:f=f+1:pOn,8
19zz=j>=bb*kk:ifjj>x*wwtHx=x*wr:ll=7-8*(x>3):ifx>2tHgoS35
20kk=kk-zz:on-((p<daNp>o)aN(pE(p)<>m))gO6:pOn,.:f=.:z=z-1:pOp,ii:p=p0:goS34:gO6
30pOp,b:fOqq=.toa/8:q=o+1+fnrf(a):pOq+t,2:pOq,xx:pOv,15:pOv,.:pOq,ii:nE:reT
31pOp,b:fOqq=-2to2:fOq=-1to1:oo=p+qq+u*q:pOv,15:pOv,.:pOoo+t,2:pOoo,xx:foree=.to1:nE:pOoo,ii:nE:nE:reT
32fOq=.tou+1:pOv,zz:pOo-q+t,1:pOd+q+t,1:pOo-q,aa:pOd+q,aa:pOv,0:nE:goS60:reT
33pOn,8:pOp,h:?"{home}{down*11}{right*5}{red}{reverse on}  game over  ":wA198,1:pO198,.:kc=.:jj=.:gO2
34pOp,b:pOp-1,ii:pOp+1,ii:pOp-u,ii:pOp+u,ii:on-((p<o+u)or(p>d-u))goS32:reT
35o=o+u:d=d-u:a=a-44:zz=15:goS32:zz=.:rr=rr-.1:reT
36pOp+t-1,7:pOp+t+1,7:pOp+t-u,7:pOp+t+u,7:pOp-1,55:pOp+1,55:pOp-u,54:pOp+u,54:reT
40?"{clear}":goS60:?"{down}{white}{reverse on}     instructions":?"{down}{green}{reverse on}  avoid the mines {white}{119}"
41?"{down}{green}{reverse on}   use {yellow}${green} ({white}space{green})":?"{reverse on}   to destroy mines":?"{down}{reverse on}  special items {purple}{120} {red}{115}"
42?"{down}{green}{reverse on}restore {yellow}${green} every {white}100pts":?"{down}{green}{reverse on} extra {red} {green} every {white}500pts":pO7680+22*16+7,52:goS58
43?"{clear}":goS60:?"{down}{white}{reverse on}        score":?"{down*2}{reverse on}     {yellow}${white}        5 pts":?"{down}{reverse on}     {purple}{120}{white}       15 pts"
44?"{down}{reverse on}     {red}{115}{white}       20 pts":?"{down}{blue}{reverse on}  empty cell {white} 1 pt":goS58:?"{clear}":goS60
45?"{down}{cyan}{reverse on}     hiscore{white}"r:?"{down*2}{reverse on}         {yellow}controls{white}":?"{down}{reverse on}    movements   {purple}i"
46?"{reverse on}               {purple}jkl":?"{down*2}{white}{reverse on}    use {yellow}${white}      {purple}space" :?"{down*3}{green}{reverse on}   prepare to start"
47goS58:reT
58?"{down*3}{right*5}{white}{reverse on} press a key":wA198,1:pO198,.:reT
60?"{home}{down}{reverse on}{white}{119*3}  {red}hyper  mines  {white}{119*3}":reT
70?"{home}{down*12}{right*5}{yellow}{reverse on} you made it! ":fOi=0to1999:nE:goS58:gO33
80dA24,60,24,102,153,24,36,102
81dA24,172,216,46,25,24,40,40
82dA24,36,24,102,153,24,36,102
83dA24,53,27,116,152,24,20,20
84dA24,24,24,48,24,12,24,24
85dA0,0,0,255,0,0,0,0
